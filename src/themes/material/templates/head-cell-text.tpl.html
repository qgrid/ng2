<ng-template key="head-cell-text.tpl.html" let-$cell let-$view="$view">
	<div (click)="$view.sort.toggle.execute($cell.column)"
		  (mouseover)="$view.sort.hover = true"
		  (mouseleave)="$view.sort.hover = false">
		<div class="q-grid-sort"
			  [ngClass]="{'q-grid-active': $view.sort.order($cell.column) >= 0}"
			  *ngIf="$cell.column.canSort"
			  [ngSwitch]="$view.sort.direction($cell.column)">
			<md-icon class="q-grid-asc" *ngSwitchCase="'asc'">arrow_downward</md-icon>
			<md-icon class="q-grid-desc" *ngSwitchCase="'desc'">arrow_upward</md-icon>
			<ng-container *ngSwitchDefault>
				<md-icon *ngIf="$view.sort.hover">arrow_downward</md-icon>
			</ng-container>
		</div>
		<label [mdTooltip]="$cell.column.title">
			{{$cell.column.title}}
		</label>
	</div>
	<q-grid-popup *ngIf="$cell.column.canFilter"
				  [id]="$cell.column.key"
				  [q-grid-column-filter]="$cell.column.key">
		<ng-template for="trigger" let-$popup>
			<button md-icon-button
       		    	[ngClass]="{'q-grid-active': $view.filter.has($cell.column)}" 
					(click)="$popup.open({width: 350, height: 600})" 
					tabindex="-1">
				<md-icon>filter_list</md-icon>
			</button>
		</ng-template>
		<ng-template for="body">
			<q-grid-column-filter>
			</q-grid-column-filter>
		</ng-template>
		<ng-template for="head">
			{{$cell.column.title}} Filter
		</ng-template>
		<ng-template for="foot" [context]="{$columnFilter: $columnFilter}" let-$columnFilter>
			<button md-button (click)="$columnFilter.cancel()">Cancel</button>
			<button md-button (click)="$columnFilter.reset()">Reset</button>
			<button md-button color="primary" (click)="$columnFilter.submit()">Apply</button>
		</ng-template>
	</q-grid-popup>
</ng-template>
