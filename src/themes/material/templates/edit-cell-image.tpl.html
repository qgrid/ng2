<ng-template key='edit-cell-image.tpl.html' let-$cell let-$view="$view">
	<div class="q-grid-editor q-grid-file q-grid-focus" q-grid-position="td">
		<h2 class="md-title">Edit {{$cell.column.title}}</h2>
		<div class="layout-column flex" layout="column" flex>
			<div class="q-grid-file-upload-area"
				  [ngClass]="{'q-grid-file-has-preview': $cell.column.hasPreview($view.edit.cell.label)}">
				<div class="q-grid-file-upload-message layout-column" [ngSwitch]="!!$view.edit.cell.value">
				<span class="q-grid-file-upload-filename"
						*ngSwitchCase="true">{{$view.edit.cell.label}}</span>
					<div layout="row" layout-align="center center">
						<md-icon>file_upload</md-icon>
						<span *ngSwitchCase="false">Drag and drop a file here or click</span>
						<span *ngSwitchCase="true">Drag and drop or click to replace</span>
					</div>
				</div>
				<input mdInputContainer
						 [q-grid-file-upload]="$view.edit.cell.value"
						 [q-grid-file-upload-label]="$view.edit.cell.label"
						 (q-grid-can-upload)="$cell.column.canUpload($event)"
						 type="file"
						 [(ngModel)]="$view.edit.cell.value"
				>
				<div class="q-grid-file-preview"
					  *ngIf="$cell.column.hasPreview($view.edit.cell.label)">
					<img [src]="$view.edit.cell.value"/>
				</div>
			</div>
		</div>
		<div class="q-grid-actions">
			<button md-button color="primary" (click)="$view.edit.cell.commit.execute($cell, $event)">Save</button>
			<button md-button (click)="$view.edit.cell.cancel.execute($cell, $event)">Cancel</button>
		</div>
	</div>
</ng-template>
